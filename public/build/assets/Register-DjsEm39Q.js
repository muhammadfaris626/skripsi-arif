import{r as f,T as B,f as g,o as b,b as e,a as o,w as i,u as s,i as T,Z as M,d as j,g as K,e as d,t as h,n as r,h as _,v as c,j as y,F as P,k as U,l as L}from"./app-DLVzJtSX.js";import{_ as u}from"./InputError-YpZDb1qc.js";import{_ as p}from"./InputLabel-BInUiklN.js";import{P as I}from"./PrimaryButton-DTh6iq2Y.js";import{_ as m}from"./TextInput-B5UW3y_A.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"min-h-screen flex flex-col sm:justify-center items-center pt-6 sm:pt-0 bg-gray-100"},z=e("img",{src:"/images/logo-surat.png",class:"w-20 mb-2",alt:"FlowBite Logo"},null,-1),H=e("p",{class:"text-xl font-semibold"}," SIAK KELURAHAN KATIMBANG ",-1),D={class:"w-full sm:max-w-5xl mt-6 px-6 py-4 bg-white shadow-md overflow-hidden sm:rounded-lg"},E={class:"grid grid-cols-3 gap-4"},F={class:"col-span-3"},O=e("span",{class:"text-red-500"},"*",-1),R={class:"flex gap-2 mt-1"},W=["disabled"],$={key:0,class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},G=e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),J=e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),Z=[G,J],q={key:0,class:"mt-2"},Q=e("span",{class:"text-red-500"},"*",-1),X=e("span",{class:"text-red-500"},"*",-1),Y=e("span",{class:"text-red-500"},"*",-1),ee=["disabled"],ae=e("option",{value:"",disabled:""},"Pilih jenis kelamin",-1),se=e("option",{value:"Laki-laki"},"Laki-laki",-1),oe=e("option",{value:"Perempuan"},"Perempuan",-1),te=[ae,se,oe],le=e("span",{class:"text-red-500"},"*",-1),ne=e("span",{class:"text-red-500"},"*",-1),ie=e("span",{class:"text-red-500"},"*",-1),de=["disabled"],re=y('<option value="" disabled>Pilih agama</option><option value="Islam">Islam</option><option value="Kristen Protestan">Kristen Protestan</option><option value="Katolik">Katolik</option><option value="Hindu">Hindu</option><option value="Budha">Budha</option><option value="Khonghucu">Khonghucu</option>',7),ue=[re],pe=e("span",{class:"text-red-500"},"*",-1),me=["disabled"],_e=e("option",{value:"",disabled:""},"Pilih pendidikan",-1),ce=["value"],ge=e("span",{class:"text-red-500"},"*",-1),be=["disabled"],ve=e("option",{value:"",disabled:""},"Pilih pekerjaan",-1),fe=["value"],ke=e("span",{class:"text-red-500"},"*",-1),he=["disabled"],ye=y('<option value="" disabled>Pilih golongan darah</option><option value="A">A</option><option value="B">B</option><option value="AB">AB</option><option value="O">O</option>',5),we=[ye],xe=e("span",{class:"text-red-500"},"*",-1),Ve=["disabled"],Ke=y('<option value="" disabled>Pilih status perkawinan</option><option value="Belum Kawin">Belum Kawin</option><option value="Kawin Tercatat">Kawin Tercatat</option><option value="Cerai Hidup">Cerai Hidup</option><option value="Cerai Mati">Cerai Mati</option>',5),Pe=[Ke],Ue=e("span",{class:"text-red-500"},"(Tidak wajib diisi)",-1),Ne=e("span",{class:"text-red-500"},"*",-1),Ae=["disabled"],Ce=y('<option value="" disabled>Pilih status dalam keluarga</option><option value="Kepala Keluarga">Kepala Keluarga</option><option value="Suami">Suami</option><option value="Istri">Istri</option><option value="Anak">Anak</option><option value="Menantu">Menantu</option><option value="Cucu">Cucu</option><option value="Orang Tua">Orang Tua</option><option value="Mertua">Mertua</option><option value="Keluarga Lain">Keluarga Lain</option><option value="Pembantu">Pembantu</option><option value="Lainnya">Lainnya</option>',12),Be=[Ce],Te=e("span",{class:"text-red-500"},"*",-1),Me=["disabled"],je=e("option",{value:"",disabled:""},"Pilih kewarganegaraan",-1),Le=e("option",{value:"WNI"},"WNI",-1),Ie=e("option",{value:"WNA"},"WNA",-1),Se=[je,Le,Ie],ze=e("span",{class:"text-red-500"},"(Tidak wajib diisi)",-1),He=e("span",{class:"text-red-500"},"(Tidak wajib diisi)",-1),De=e("span",{class:"text-red-500"},"*",-1),Ee=e("span",{class:"text-red-500"},"*",-1),Fe=e("span",{class:"text-red-500"},"*",-1),Oe=e("span",{class:"text-red-500"},"*",-1),Re=e("span",{class:"text-red-500"},"*",-1),We={class:"flex items-center justify-end mt-4"},Xe={__name:"Register",props:["educations","works"],setup(V){const k=f(!1),l=f(!1),w=f(!1),v=f("");f(null);const a=B({no_kk:"",nama_lengkap:"",nik:"",gender:"",education_id:"",work_id:"",place_of_birth:"",date_of_birth:"",wedding_date:"",paspor_number:"",kitap_number:"",father_name:"",mother_name:"",phone_number:"",religion:"",blood_group:"",marital_status:"",relationship_status:"",citizenship:"",email:"",password:""}),N=()=>{k.value=!1,l.value=!1,v.value=""},A=async()=>{var x,n;try{(await L.post("api/cek-kartu-keluarga",{no_kk:a.no_kk})).data.status=="sukses"?(l.value=!0,k.value=!0,v.value="Nomor Kartu Keluarga ditemukan. Anda dapat melanjutkan pendaftaran."):(l.value=!1,k.value=!0,v.value="Nomor Kartu Keluarga tidak ditemukan. Silakan periksa kembali nomor yang Anda masukkan.")}catch(t){t.value=((n=(x=t.response)==null?void 0:x.data)==null?void 0:n.message)||"Terjadi kesalahan",console.error("Error:",t)}},C=()=>{a.post(route("register"),{onFinish:()=>a.reset("password","password_confirmation")})};return(x,n)=>(b(),g("div",S,[e("div",null,[o(s(T),{href:"/",class:"flex flex-col items-center justify-center text-center"},{default:i(()=>[z,H]),_:1})]),e("div",D,[o(s(M),{title:"Register"}),e("form",{onSubmit:j(C,["prevent"])},[e("div",E,[e("div",F,[o(p,{for:"no_kk"},{default:i(()=>[d(" Nomor Kartu Keluarga "),O]),_:1}),e("div",R,[o(m,{id:"no_kk",type:"text",class:"flex-1",modelValue:s(a).no_kk,"onUpdate:modelValue":n[0]||(n[0]=t=>s(a).no_kk=t),onInput:N,placeholder:"Masukkan 16 digit nomor KK"},null,8,["modelValue"]),e("button",{type:"button",onClick:A,disabled:w.value||!s(a).no_kk.trim(),class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 whitespace-nowrap"},[w.value?(b(),g("svg",$,Z)):K("",!0),d(" "+h(w.value?"Mengecek...":"Cek KK"),1)],8,W)]),v.value?(b(),g("div",q,[e("p",{class:r([{"text-green-600":l.value,"text-red-600":!l.value,"text-blue-600":!k.value},"text-sm"])},h(v.value),3)])):K("",!0),o(u,{class:"mt-2",message:s(a).errors.no_kk},null,8,["message"])]),e("div",{class:r({"opacity-50 pointer-events-none":!l.value})},[o(p,{for:"nama_lengkap"},{default:i(()=>[d(" Nama Lengkap "),Q]),_:1}),o(m,{id:"nama_lengkap",type:"text",class:"mt-1 block w-full",modelValue:s(a).nama_lengkap,"onUpdate:modelValue":n[1]||(n[1]=t=>s(a).nama_lengkap=t),disabled:!l.value},null,8,["modelValue","disabled"]),o(u,{class:"mt-2",message:s(a).errors.nama_lengkap},null,8,["message"])],2),e("div",{class:r({"opacity-50 pointer-events-none":!l.value})},[o(p,{for:"nik"},{default:i(()=>[d(" Nomor Induk Kependudukan "),X]),_:1}),o(m,{id:"nik",type:"text",class:"mt-1 block w-full",modelValue:s(a).nik,"onUpdate:modelValue":n[2]||(n[2]=t=>s(a).nik=t),disabled:!l.value},null,8,["modelValue","disabled"]),o(u,{class:"mt-2",message:s(a).errors.nik},null,8,["message"])],2),e("div",{class:r({"opacity-50 pointer-events-none":!l.value})},[o(p,{for:"gender"},{default:i(()=>[d(" Jenis Kelamin "),Y]),_:1}),_(e("select",{"onUpdate:modelValue":n[3]||(n[3]=t=>s(a).gender=t),id:"gender",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",disabled:!l.value},te,8,ee),[[c,s(a).gender]]),o(u,{message:s(a).errors.gender},null,8,["message"])],2),e("div",{class:r({"opacity-50 pointer-events-none":!l.value})},[o(p,{for:"place_of_birth"},{default:i(()=>[d(" Tempat Lahir "),le]),_:1}),o(m,{id:"place_of_birth",type:"text",class:"block w-full",modelValue:s(a).place_of_birth,"onUpdate:modelValue":n[4]||(n[4]=t=>s(a).place_of_birth=t),disabled:!l.value},null,8,["modelValue","disabled"]),o(u,{message:s(a).errors.place_of_birth},null,8,["message"])],2),e("div",{class:r({"opacity-50 pointer-events-none":!l.value})},[o(p,{for:"date_of_birth"},{default:i(()=>[d(" Tanggal Lahir "),ne]),_:1}),o(m,{id:"date_of_birth",type:"date",class:"block w-full",modelValue:s(a).date_of_birth,"onUpdate:modelValue":n[5]||(n[5]=t=>s(a).date_of_birth=t),disabled:!l.value},null,8,["modelValue","disabled"]),o(u,{message:s(a).errors.date_of_birth},null,8,["message"])],2),e("div",{class:r({"opacity-50 pointer-events-none":!l.value})},[o(p,{for:"religion"},{default:i(()=>[d(" Agama "),ie]),_:1}),_(e("select",{"onUpdate:modelValue":n[6]||(n[6]=t=>s(a).religion=t),id:"religion",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",disabled:!l.value},ue,8,de),[[c,s(a).religion]]),o(u,{message:s(a).errors.religion},null,8,["message"])],2),e("div",{class:r({"opacity-50 pointer-events-none":!l.value})},[o(p,{for:"education"},{default:i(()=>[d(" Pendidikan "),pe]),_:1}),_(e("select",{"onUpdate:modelValue":n[7]||(n[7]=t=>s(a).education_id=t),id:"education",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",disabled:!l.value},[_e,(b(!0),g(P,null,U(V.educations,t=>(b(),g("option",{key:t.id,value:t.id},h(t.education_name),9,ce))),128))],8,me),[[c,s(a).education_id]]),o(u,{message:s(a).errors.education_id},null,8,["message"])],2),e("div",{class:r({"opacity-50 pointer-events-none":!l.value})},[o(p,{for:"work"},{default:i(()=>[d(" Pekerjaan "),ge]),_:1}),_(e("select",{"onUpdate:modelValue":n[8]||(n[8]=t=>s(a).work_id=t),id:"work",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",disabled:!l.value},[ve,(b(!0),g(P,null,U(V.works,t=>(b(),g("option",{key:t.id,value:t.id},h(t.work_name),9,fe))),128))],8,be),[[c,s(a).work_id]]),o(u,{message:s(a).errors.work_id},null,8,["message"])],2),e("div",{class:r({"opacity-50 pointer-events-none":!l.value})},[o(p,{for:"blood_group"},{default:i(()=>[d(" Golongan Darah "),ke]),_:1}),_(e("select",{"onUpdate:modelValue":n[9]||(n[9]=t=>s(a).blood_group=t),id:"blood_group",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",disabled:!l.value},we,8,he),[[c,s(a).blood_group]]),o(u,{message:s(a).errors.blood_group},null,8,["message"])],2),e("div",{class:r({"opacity-50 pointer-events-none":!l.value})},[o(p,{for:"marital_status"},{default:i(()=>[d(" Status Perkawinan "),xe]),_:1}),_(e("select",{"onUpdate:modelValue":n[10]||(n[10]=t=>s(a).marital_status=t),id:"marital_status",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",disabled:!l.value},Pe,8,Ve),[[c,s(a).marital_status]]),o(u,{message:s(a).errors.marital_status},null,8,["message"])],2),e("div",{class:r({"opacity-50 pointer-events-none":!l.value})},[o(p,{for:"wedding_date"},{default:i(()=>[d(" Tanggal Perkawinan "),Ue]),_:1}),o(m,{id:"wedding_date",type:"date",class:"block w-full",modelValue:s(a).wedding_date,"onUpdate:modelValue":n[11]||(n[11]=t=>s(a).wedding_date=t),disabled:!l.value},null,8,["modelValue","disabled"]),o(u,{message:s(a).errors.wedding_date},null,8,["message"])],2),e("div",{class:r({"opacity-50 pointer-events-none":!l.value})},[o(p,{for:"relationship_status"},{default:i(()=>[d(" Status Dalam Keluarga "),Ne]),_:1}),_(e("select",{"onUpdate:modelValue":n[12]||(n[12]=t=>s(a).relationship_status=t),id:"relationship_status",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",disabled:!l.value},Be,8,Ae),[[c,s(a).relationship_status]]),o(u,{message:s(a).errors.relationship_status},null,8,["message"])],2),e("div",{class:r({"opacity-50 pointer-events-none":!l.value})},[o(p,{for:"citizenship"},{default:i(()=>[d(" Kewarganegaraan "),Te]),_:1}),_(e("select",{"onUpdate:modelValue":n[13]||(n[13]=t=>s(a).citizenship=t),id:"citizenship",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",disabled:!l.value},Se,8,Me),[[c,s(a).citizenship]]),o(u,{message:s(a).errors.citizenship},null,8,["message"])],2),e("div",{class:r({"opacity-50 pointer-events-none":!l.value})},[o(p,{for:"paspor_number"},{default:i(()=>[d(" Nomor Paspor "),ze]),_:1}),o(m,{id:"paspor_number",type:"text",class:"block w-full",modelValue:s(a).paspor_number,"onUpdate:modelValue":n[14]||(n[14]=t=>s(a).paspor_number=t),disabled:!l.value},null,8,["modelValue","disabled"]),o(u,{message:s(a).errors.paspor_number},null,8,["message"])],2),e("div",{class:r({"opacity-50 pointer-events-none":!l.value})},[o(p,{for:"kitap_number"},{default:i(()=>[d(" Nomor Kitap "),He]),_:1}),o(m,{id:"kitap_number",type:"text",class:"block w-full",modelValue:s(a).kitap_number,"onUpdate:modelValue":n[15]||(n[15]=t=>s(a).kitap_number=t),disabled:!l.value},null,8,["modelValue","disabled"]),o(u,{message:s(a).errors.kitap_number},null,8,["message"])],2),e("div",{class:r({"opacity-50 pointer-events-none":!l.value})},[o(p,{for:"father_name"},{default:i(()=>[d(" Nama Ayah "),De]),_:1}),o(m,{id:"father_name",type:"text",class:"block w-full",modelValue:s(a).father_name,"onUpdate:modelValue":n[16]||(n[16]=t=>s(a).father_name=t),disabled:!l.value},null,8,["modelValue","disabled"]),o(u,{message:s(a).errors.father_name},null,8,["message"])],2),e("div",{class:r({"opacity-50 pointer-events-none":!l.value})},[o(p,{for:"mother_name"},{default:i(()=>[d(" Nama Ibu "),Ee]),_:1}),o(m,{id:"mother_name",type:"text",class:"block w-full",modelValue:s(a).mother_name,"onUpdate:modelValue":n[17]||(n[17]=t=>s(a).mother_name=t),disabled:!l.value},null,8,["modelValue","disabled"]),o(u,{message:s(a).errors.mother_name},null,8,["message"])],2),e("div",{class:r({"opacity-50 pointer-events-none":!l.value})},[o(p,{for:"phone_number"},{default:i(()=>[d(" Nomor Telepon "),Fe]),_:1}),o(m,{id:"phone_number",type:"text",class:"block w-full",modelValue:s(a).phone_number,"onUpdate:modelValue":n[18]||(n[18]=t=>s(a).phone_number=t),disabled:!l.value},null,8,["modelValue","disabled"]),o(u,{message:s(a).errors.phone_number},null,8,["message"])],2),e("div",{class:r({"opacity-50 pointer-events-none":!l.value})},[o(p,{for:"email"},{default:i(()=>[d(" Email "),Oe]),_:1}),o(m,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:s(a).email,"onUpdate:modelValue":n[19]||(n[19]=t=>s(a).email=t),disabled:!l.value},null,8,["modelValue","disabled"]),o(u,{class:"mt-2",message:s(a).errors.email},null,8,["message"])],2),e("div",{class:r({"opacity-50 pointer-events-none":!l.value})},[o(p,{for:"password"},{default:i(()=>[d(" Password "),Re]),_:1}),o(m,{id:"password",type:"password",class:"mt-1 block w-full",modelValue:s(a).password,"onUpdate:modelValue":n[20]||(n[20]=t=>s(a).password=t),disabled:!l.value},null,8,["modelValue","disabled"]),o(u,{class:"mt-2",message:s(a).errors.password},null,8,["message"])],2)]),e("div",We,[o(I,{class:r(["ms-4",{"opacity-25":s(a).processing||!l.value}]),disabled:s(a).processing||!l.value},{default:i(()=>[d(" Register ")]),_:1},8,["class","disabled"])])],32)])]))}};export{Xe as default};
